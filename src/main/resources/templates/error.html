<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Error</title>
    <script type="text/javascript" th:src="@{/js/Utils.js}"></script>
    <link th:href="@{/css/main.css}" rel="stylesheet" />
    <link th:href="@{/css/error.css}" rel="stylesheet" />
</head>
<body>
<!-- Page Heading -->
<h1 class="error-heading">An Error Occurred</h1>

<!-- Error Message Section -->
<div class="error-container">
    <p id="errorMessage" class="error-message"></p>
</div>
<!-- Back to Item List Button -->
<div class="mt-6 text-center">
    <a href="/" class="error-back-link">
        Back to Item List
    </a>
</div>
<script>
    // Get the error message and details from the URL query parameters
    const urlParams = new URLSearchParams(window.location.search);
    const errorMessage = urlParams.get('message');
    const errorDetails = urlParams.get('details');

    // Get the error message element
    const errorMessageElement = document.getElementById('errorMessage');

    // If an error message is present, display it
    if (errorMessage) {
        errorMessageElement.textContent = errorMessage;

        // Optionally display error details if available
        if (errorDetails) {
            const detailsElement = document.createElement('p');
            detailsElement.textContent = "Details: " + errorDetails;
            errorMessageElement.appendChild(detailsElement);
        }
    } else {
        errorMessageElement.textContent = "An unexpected error occurred.";
    }
</script>
</body>
</html>
